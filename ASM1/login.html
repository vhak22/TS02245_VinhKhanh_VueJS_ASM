<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <title>Login</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Vue -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

    <style>
        body {
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-family: 'Segoe UI', sans-serif;
        }

        .form-glass {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(15px);
            padding: 40px;
            border-radius: 20px;
            width: 100%;
            max-width: 400px;
            box-shadow: 0 0 30px rgba(127, 90, 240, 0.4);
        }

        .btn-galaxy {
            background: linear-gradient(135deg, #7f5af0, #00f5d4);
            border-radius: 30px;
            border: none;
            color: white;
            padding: 10px;
            transition: 0.4s;
        }

        .btn-galaxy:hover {
            box-shadow: 0 0 20px #7f5af0;
            transform: scale(1.05);
        }
    </style>
</head>

<body>
    <div id="app" class="form-glass">

        <h3 class="text-center mb-4">Đăng nhập</h3>

        <input v-model="email" class="form-control mb-3" placeholder="Email">
        <input v-model="password" type="password" class="form-control mb-3" placeholder="Mật khẩu">

        <button class="btn btn-galaxy w-100" @click="login">
            Đăng nhập
        </button>

        <p class="text-center mt-3">
            <a href="register.html" class="text-info">Chưa có tài khoản?</a>
        </p>

    </div>

    <script>
        const app = Vue.createApp({
            data() {
                return {
                    email: "",
                    password: ""
                }
            },
            methods: {
                login() {
                    const user = JSON.parse(localStorage.getItem("user"));

                    if (!user) {
                        alert("Chưa có tài khoản!");
                        return;
                    }

                    if (this.email === user.email && this.password === user.password) {
                        localStorage.setItem("currentUser", JSON.stringify(user));

                        alert("Đăng nhập thành công!");

                        if (user.role === "admin") {
                            window.location.href = "admin.html";
                        } else {
                            window.location.href = "index.html";
                        }
                    } else {
                        alert("Sai email hoặc mật khẩu");
                    }
                }
            }
        });

        app.mount("#app");
    </script>
</body>

</html>